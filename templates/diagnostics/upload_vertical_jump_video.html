{% extends 'base.html' %}
{% load static %}

{% block title %}Vertical Jump elemz√©s ‚Äì Vide√≥ felt√∂lt√©se{% endblock %}

{% block content %}
<div class="container mx-auto py-6">
    <h2 class="text-2xl font-semibold mb-4">ü§∏ Helyb≈ël Magass√°gi Ugr√°s √ârt√©kel√©s ‚Äì Vide√≥ felt√∂lt√©se</h2>
    <p class="text-muted mb-4">K√©rj√ºk, t√∂lts√∂n fel egy vide√≥t, ami **2-3 maxim√°lis helyb≈ël felugr√°st** mutat be. A kamera legyen **oldalr√≥l vagy szemb≈ël** elhelyezve, hogy a teljes mozg√°startom√°ny √©s a landol√°s l√°that√≥ legyen.</p>

    <form 
        id="upload-form" 
        method="post" 
        novalidate
        data-sign-url="{% url 'diagnostics:get_signed_gcs_url' %}"
        data-redirect-url="{% url 'diagnostics:athlete_diagnostics' %}"
    >
        {% csrf_token %}
        <div class="mb-3">
            <label for="id_video" class="form-label">Vide√≥ felt√∂lt√©se</label>
            <input type="file" name="video" accept="video/mp4" class="form-control" required>
            <div class="form-text">MP4 form√°tum, a teljes mozg√°s l√°that√≥ legyen.</div>
        </div>

        <div class="mb-3">
            {{ form.notes.label_tag }}
            {{ form.notes }}
            <div class="form-text">{{ form.notes.help_text }}</div>
        </div>
        
        <div id="progress-container" class="mt-4" style="display:none;">
            <div class="progress" role="progressbar" aria-label="Felt√∂lt√©s" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%"></div>
            </div>
            <p id="status-message" class="mt-2 text-info small">Vide√≥ felt√∂lt√©se...</p>
        </div>

        <button type="submit" id="submit-button" class="btn btn-primary mt-3">Elemz√©s ind√≠t√°sa</button>
    </form>
</div>
{% endblock %}

{% block extra_js %}
{% include "diagnostics/partials/gcs_upload_script_single_video.html" %}
{% endblock %}