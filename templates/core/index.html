{% extends "base_out.html" %}
{% load static %}

{% block title %}digiT-Train - Digitális Sportteljesítmény Elemzés{% endblock %}

{% block extra_css %}
<style>
    /* Teljes ütközésfeloldás: ha a Bootstrap mutatni akarja, a Tailwind ne rejthesse el */
    .collapse.show {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        height: auto !important;
    }
    
    /* Simább nyitás és tiszta háttér a szövegnek */
    .accordion-button:not(.collapsed) {
        background-color: #f8f9fa !important;
        color: #0d6efd !important;
    }

    .accordion-body {
        display: block !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="row">
    
    <div class="col-lg-2 d-none d-lg-block">
        {% include "billing/includes/ad_sidebar_out.html" %}
    </div>

    <div class="col-lg-8 col-md-12">

        <section class="text-center py-5 mb-5 bg-light rounded shadow-sm border">
            <h1 class="display-4 fw-bold text-primary">A Sportteljesítmény Digitális Forradalma</h1>
            <p class="lead text-muted px-3">Optimalizálja az edzéseket, mérje a regenerációt, és növelje a sportolói eredményeket a digiT-Train segítségével!</p>
            
            <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-4 px-3">
                <a class="btn btn-primary btn-lg px-4 me-md-2 fw-bold" href="{% url 'users:register' %}" role="button">
                    <i class="bi bi-person-add me-1"></i> Kezdje meg a regisztrációt
                </a>
                <a class="btn btn-outline-secondary btn-lg px-4" href="#tudastar" role="button">
                    <i class="bi bi-info-circle me-1"></i> Hogyan működik?
                </a>
            </div>
        </section>

        <section class="py-4" id="diagnosztika">
            <div class="card shadow-sm border-0 overflow-hidden mb-5">
                <div class="row g-0 align-items-center">
                    <div class="col-md-7 p-4 p-lg-5">
                        <h2 class="display-6 fw-bold mb-3">AI Diagnosztika & Gépi Látás</h2>
                        <p class="text-muted mb-4">A <strong>Ditta AI</strong> modul segítségével okostelefonos fotókból készítünk precíz antropometriai méréseket, kiküszöbölve a manuális hibákat.</p>
                        <div class="row g-3">
                            <div class="col-6">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    <span>Pontos mérések</span>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    <span>Aszimmetria szűrés</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5 bg-primary text-white text-center py-5">
                        <i class="bi bi-robot display-1"></i>
                        <p class="mt-2 fw-bold">Ditta AI Engine</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-5" id="tudastar">
            <h3 class="text-center mb-4 fw-bold text-dark">Szakmai Tudástár</h3>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card h-100 shadow-sm border-top border-primary border-4">
                        <div class="card-body">
                            <h5 class="card-title fw-bold text-primary">
                                <i class="bi bi-cpu me-2"></i>Digitális Antropometria
                            </h5>
                            <p class="card-text text-muted">
                                Rendszerünk a biomechanika alapelveit ötvözi a gépi látással. Egy digitális csontvázat (skeletal tracking) hozunk létre, amely segít az edzőknek megérteni a testalkati sajátosságokat.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card h-100 shadow-sm border-top border-success border-4">
                        <div class="card-body">
                            <h5 class="card-title fw-bold text-success">
                                <i class="bi bi-graph-up-arrow me-2"></i>Adatvezérelt Fejlődés
                            </h5>
                            <p class="card-text text-muted">
                                Az objektív visszacsatolás az alapja minden professzionális edzéstervnek. A Ditta AI felismeri a fejlődési stagnálást vagy a túlterhelésre utaló jeleket.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-white py-3 border-bottom">
                    <h5 class="mb-0 fw-bold text-primary"><i class="bi bi-question-square-fill me-2"></i> Gyakori kérdések (Help Desk)</h5>
                </div>
                <div class="card-body p-0"> <div class="accordion accordion-flush" id="faqAccordion">
                        
                        <div class="accordion-item border-bottom">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed fw-bold text-dark" type="button" data-bs-toggle="collapse" data-bs-target="#faq1" aria-expanded="false">
                                    Milyen eszközre van szükség a méréshez?
                                </button>
                            </h2>
                            <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted bg-light">
                                    Bármilyen modern okostelefon megfelel, amely képes jó minőségű fotót készíteni. A Ditta AI algoritmusai a szabványos képformátumokat elemzik, így nincs szükség drága laboratóriumi szenzorokra.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item border-bottom">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed fw-bold text-dark" type="button" data-bs-toggle="collapse" data-bs-target="#faq2" aria-expanded="false">
                                    Ki láthatja a sportoló adatait?
                                </button>
                            </h2>
                            <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body text-muted bg-light">
                                    Az adatvédelem kiemelt fontosságú. A GDPR irányelveknek megfelelően csak az Ön által kifejezetten jóváhagyott edzők és egyesületi vezetők férhetnek hozzá a diagnosztikai eredményekhez.
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>

        <section class="py-4">
            <h2 class="text-center mb-5 fw-bold">Kiknek segítünk?</h2>
            <div class="row g-4">
                <div class="col-md-4 text-center">
                    <div class="card h-100 shadow-sm border-0 bg-light p-3">
                        <div class="card-body">
                            <i class="bi bi-person-badge display-5 text-primary mb-3"></i>
                            <h4 class="fw-bold">Edzőknek</h4>
                            <p class="small text-muted">Csapatmenedzsment és AI alapú elemzés egy helyen.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="card h-100 shadow-sm border-0 bg-light p-3">
                        <div class="card-body">
                            <i class="bi bi-trophy display-5 text-warning mb-3"></i>
                            <h4 class="fw-bold">Sportolóknak</h4>
                            <p class="small text-muted">Személyes fejlődési görbe és közvetlen szakmai visszajelzés.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="card h-100 shadow-sm border-0 bg-light p-3">
                        <div class="card-body">
                            <i class="bi bi-shield-check display-5 text-success mb-3"></i>
                            <h4 class="fw-bold">Szülőknek</h4>
                            <p class="small text-muted">Betekintés a gyermek fejlődésébe és egészségügyi állapotába.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="my-5">

        <section class="py-5 text-center bg-dark text-white rounded shadow-lg mb-5 p-4">
            <h2 class="mb-3 fw-bold">Kezdje el ma, csatlakozzon díjmentesen!</h2>
            <p class="lead mb-4">A digiT-Train alapfunkciói mindenki számára elérhetőek.</p>
            <a class="btn btn-warning btn-lg px-5 fw-bold shadow" href="{% url 'users:register' %}" role="button">
                 Regisztráció most
            </a>
        </section>

    </div>

    <div class="col-lg-2 d-none d-lg-block">
        {% include "billing/includes/ad_sidebar_out.html" %}
    </div>

</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var accButtons = document.querySelectorAll('.accordion-button');
        accButtons.forEach(function(btn) {
            btn.addEventListener('click', function() {
                var targetId = this.getAttribute('data-bs-target');
                var targetEl = document.querySelector(targetId);
                
                // Megvárjuk, amíg a Bootstrap elvégzi a dolgát, aztán kényszerítjük a megjelenítést
                setTimeout(function() {
                    if (targetEl.classList.contains('show')) {
                        targetEl.style.display = 'block';
                    } else {
                        targetEl.style.display = 'none';
                    }
                }, 100);
            });
        });
    });
</script>
{% endblock %}